<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<h:outputScript name="jquery.min.js" library="js" />
	<h:outputScript name="jquery.maskMoney.js" library="js" />
</h:head>
<h:body>
	<ui:composition template="_template.xhtml">

		<ui:define name="titulo">
			<p>CARROS</p>
		</ui:define>
		<ui:define name="conteudo">
			<br />
			<h:messages id="mensagem" />
			<h:form enctype="multipart/form-data” acceptcharset=“utf-8"
				prependId="false">
				<br />
				<fieldset>
					<legend>DADOS DO CARRO</legend>

					<br />
					<h:panelGrid columns="2">
						<h:outputLabel value="Chassi:" for="chassi" />
						<h:inputText id="chassi" value="#{carroBean.carro.chassi}"
							required="true" requiredMessage="Chassi obrigatório"
							validatorMessage="Chassi deve ter 17 caracteres">
							<f:validateLength maximum="17" minimum="17" />
						</h:inputText>

						<h:outputLabel value="Montadora:" for="montadora" />
						<h:inputText id="montadora" value="#{carroBean.carro.montadora}"
							required="true" requiredMessage="Montadora obrigatório"
							validatorMessage="Montadora não pode ser superior a 15 e inferior a 2">
							<f:validateLength maximum="15" minimum="2" />
						</h:inputText>

						<h:outputLabel value="Modelo:" for="modelo" />
						<h:inputText id="modelo" value="#{carroBean.carro.modelo}"
							required="true" requiredMessage="Modelo obrigatório"
							validatorMessage="Modelo não pode ser superior a 45 e inferior a 2">
							<f:validateLength maximum="45" minimum="2" />
						</h:inputText>

						<h:outputLabel value="Selecione um tipo de carro:" for="tipo" />
						<h:selectOneMenu value="#{carroBean.carro.strTipo}" id="categoria">
							<f:selectItems value="#{carroBean.tipoCarros}" var="tipos"
								itemLabel="#{tipos}" itemValue="#{tipos}" />
						</h:selectOneMenu>

						<h:outputLabel value="Cor:" for="cor" />
						<h:inputText id="cor" value="#{carroBean.carro.cor}"
							required="true" requiredMessage="Cor obrigatório"
							validatorMessage="cor não pode ser superior a 45 e inferior a 3">
							<f:validateLength maximum="45" minimum="3" />
						</h:inputText>

						<h:outputLabel value="Motor:" for="motor" />
						<h:inputText id="motor" value="#{carroBean.carro.motor}"
							required="true" requiredMessage="Motor obrigatório"
							validatorMessage="Motor não pode ser superior a 45 e inferior a 3">
							<f:validateLength maximum="45" minimum="3" />
						</h:inputText>

						<h:outputLabel value="Câmbio:" for="cambio" />
						<h:inputText id="cambio" value="#{carroBean.carro.cambio}"
							required="true" requiredMessage="Cambio obrigatório"
							validatorMessage="Cambio não pode ser superior a 45 e inferior a 3">
							<f:validateLength maximum="45" minimum="3" />
						</h:inputText>

						<h:outputLabel value="Preço:" for="preco" />
						<h:inputText id="preco" value="#{carroBean.carro.preco}"
							required="true" requiredMessage="Preço obrigatório" styleClass="valor-monetario">
						</h:inputText>

						<br />
					</h:panelGrid>
				</fieldset>
				<br />
				<h:commandButton value="Gravar" class="botao"
					actionListener="#{carroBean.gravaCarro}" />
				<br />
			</h:form>

			<script>
				jQuery(function($) {
					$("input.valor-monetario").mask("#.##0,00");
				});
			</script>

			<br />
			<f:view>
				<h:form>
					<h:dataTable value="#{carroBean.listarCarros}" var="lista"
						styleClass="tabela" headerClass="cabecalhos"
						columnClasses="primeiro, ultimo, primeiro, ultimo">

						<h:column>
							<f:facet name="header">
								<h:outputText value="Código" />
							</f:facet>
							<h:outputText value="#{lista.id}" />
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputText value="CHASSI" />
							</f:facet>
							<h:outputText value="#{lista.chassi}" />
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputText value="MONTADORA" />
							</f:facet>
							<h:outputText value="#{lista.montadora}" />
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputText value="MODELO" />
							</f:facet>
							<h:outputText value="#{lista.modelo}" />
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputText value="TIPO" />
							</f:facet>
							<h:outputText value="#{lista.strTipo}" />
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputText value="COR" />
							</f:facet>
							<h:outputText value="#{lista.cor}" />
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputText value="MOTOR" />
							</f:facet>
							<h:outputText value="#{lista.motor}" />
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputText value="CÂMBIO" />
							</f:facet>
							<h:outputText value="#{lista.cambio}" />
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputText value="PREÇO" />
							</f:facet>
							<h:outputText value="#{lista.preco}" />
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputText value="DELETAR" />
							</f:facet>
							<h:commandButton value="remover" class="botaoLista"
								actionListener="#{carroBean.deletarCarro(lista)}" />
						</h:column>

					</h:dataTable>
				</h:form>
			</f:view>
			<br />
		</ui:define>
	</ui:composition>
</h:body>
</html>